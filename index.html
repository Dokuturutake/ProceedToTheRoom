<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Planes Scroll Animation (Centered)</title>
    <style>
    :root {
        --plane-gap: 1500px;
        --bg-color: #f0f0f0;
        --plane-border-color: black;
        --plane-color: green;
        --plane-font-color: white;
    }

    body, html {
        height: 500vh;
        margin: 0;
        padding: 0;
        background-color: var(--bg-color);
        overflow-x: hidden;
    }

    .scene {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        perspective: 1000px;

        .planes-container {
            position: relative;
            transform-style: preserve-3d;

            .plane {
                width: 4000px;
                height: 4000px;
                position: absolute;
                border: 2px solid var(--plane-border-color);
                display: flex;
                justify-content: center;
                align-items: center;
                font-size: 5vw;
                font-weight: bold;
                color: var(--plane-font-color);
                background: var(--plane-color);
                transform-origin: center center;

                -webkit-mask-image: radial-gradient(circle at center, transparent 0.5%, black 0.51%);
                mask-image: radial-gradient(circle at center, transparent 0.5%, black 0.51%);

                &:nth-child(1) { transform: translate(-50%, -50%) translateZ(500px); }
                &:nth-child(2) { transform: translate(-50%, -50%) translateZ(0); }
                &:nth-child(3) { transform: translate(-50%, -50%) translateZ(calc(-1 * var(--plane-gap))); }
                &:nth-child(4) { transform: translate(-50%, -50%) translateZ(calc(-2 * var(--plane-gap))); }
                &:nth-child(5) { transform: translate(-50%, -50%) translateZ(calc(-3 * var(--plane-gap))); }
                &:nth-child(6) { transform: translate(-50%, -50%) translateZ(calc(-4 * var(--plane-gap))); }

                .circular-text {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    width: 300px;
                    height: 300px;
                    transform: translate(-50%, -50%);
                }

                .circular-text span {
                    position: absolute;
                    left: 50%;
                    font-size: 16px;
                    transform-origin: 0 150px;
                }
            }

        }
    }
</style>

</head>
<body>
    <div class="scene">
        <div class="planes-container">
            <!-- 各Planeに異なるクラスを割り当て -->
            <div class="plane"><div class="circular-text"></div></div>
            <div class="plane">1</div>
            <div class="plane">2</div>
            <div class="plane">3</div>
            <div class="plane">4</div>
            <div class="plane">5</div>
        </div>
    </div>

    <script>
        // スクロールに基づいてコンテナのZ位置を更新
        document.addEventListener('scroll', () => {
            const scrollY = window.scrollY;
            const container = document.querySelector('.planes-container');
            const maxScroll = document.body.scrollHeight - window.innerHeight;
            const zPosition = (scrollY / maxScroll) * 8000;  // Z軸の範囲を0〜4700pxにする

            container.style.transform = `translateZ(${zPosition}px)`;
        });


        const text = "Your Circular Text Here • ";
        const circularText = document.querySelector('.circular-text');

        for (let i = 0; i < text.length; i++) {
            const span = document.createElement('span');
            span.textContent = text[i];
            span.style.transform = `rotate(${i * 8}deg)`;
            circularText.appendChild(span);
        }
    </script>
</body>
</html>